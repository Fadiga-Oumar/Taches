@page
@model ListeTache.Pages.Index2Model
@{
    ViewData["Title"] = "Jeu de Devinette";
}

<h1>@ViewData["Title"]</h1>

<p>@Model.Message</p>

<form method="post">
    <p>
        <label for="Guess">Votre proposition:</label>
        <input type="number" id="Guess" name="Guess" min="0" max="100" required />
    </p>
    <button type="submit" asp-page-handler="Guess">Soumettre</button>
    <button type="submit" asp-page-handler="NewGame">Nouveau jeu</button>
</form>

@if (Model.Score.HasValue)
{
    <p>Votre score: @Model.Score</p>
    <form method="post">
        <p>
            <label for="UserName">Votre nom:</label>
            <input type="text" id="UserName" name="UserName" required />
        </p>
        <button type="submit" asp-page-handler="SaveScore">Enregistrer le score</button>
    </form>
}

<h2>Historique des tentatives:</h2>
<ul>
    @foreach (var attempt in Model.AttemptHistory)
    {
        <li>@attempt</li>
    }
</ul>